<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.3">
<link rel="alternate" type="application/rss+xml" href="/tao/blog/rss.xml" title="Tao Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/tao/blog/atom.xml" title="Tao Blog Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="Tao" href="/tao/opensearch.xml"><title data-react-helmet="true">Perl One-Liners | Tao</title><meta data-react-helmet="true" property="og:url" content="https://johntday.github.io/tao/docs/unix/perl-one-liners"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Perl One-Liners | Tao"><meta data-react-helmet="true" name="description" content="Useful Perl command line utilities."><meta data-react-helmet="true" property="og:description" content="Useful Perl command line utilities."><link data-react-helmet="true" rel="shortcut icon" href="/tao/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://johntday.github.io/tao/docs/unix/perl-one-liners"><link data-react-helmet="true" rel="alternate" href="https://johntday.github.io/tao/docs/unix/perl-one-liners" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://johntday.github.io/tao/docs/unix/perl-one-liners" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://J3DNVWLVGC-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/tao/assets/css/styles.cd05f407.css">
<link rel="preload" href="/tao/assets/js/runtime~main.943b9460.js" as="script">
<link rel="preload" href="/tao/assets/js/main.67cf1c77.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/tao/"><img src="/tao/img/favicon-32x32.png" alt="Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/tao/img/favicon-32x32.png" alt="Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Tao</b></a><a class="navbar__item navbar__link navbar__link--active" href="/tao/docs/intro">Topics</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/johntday/tao" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="searchBox_1Doo"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/tao/"><img src="/tao/img/favicon-32x32.png" alt="Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/tao/img/favicon-32x32.png" alt="Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Tao</b></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link navbar__link--active" href="/tao/docs/intro">Topics</a></li><li class="menu__list-item"><a href="https://github.com/johntday/tao" target="_blank" rel="noopener noreferrer" class="menu__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu menu--responsive thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA" aria-label="Sidebar navigation"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/tao/docs/intro">Introduction</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Mac</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tao/docs/mac/homebrew">Homebrew</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">MySQL</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tao/docs/mysql/mysql-install">Install MySQL</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">RegEx</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tao/docs/regex/regex">RegEx Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tao/docs/regex/regex-perl">Regex Perl</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Unix Utilities</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/tao/docs/unix/grep">grep</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/tao/docs/unix/ggrep">GNU grep</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/tao/docs/unix/ripgrep">ripgrep</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/tao/docs/unix/sed">sed</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/tao/docs/unix/perl-one-liners">Perl One-Liners</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/tao/docs/unix/jq">jq</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/tao/docs/unix/sort">sort</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">DocSearch</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tao/docs/docsearch/intro">Using DocSearch with Docusaurus</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="markdown"><header><h1 class="h1Heading_27L5">Perl One-Liners</h1></header><p>Useful Perl command line utilities.</p><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="print-block-of-text"></a>Print Block of Text<a class="hash-link" href="#print-block-of-text" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="consistent-markers"></a>Consistent Markers<a class="hash-link" href="#consistent-markers" title="Direct link to heading">#</a></h3><p>Example where format is consistent.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">cat</span><span class="token plain"> uniform.txt</span></span><span class="token-line" style="color:#393A34"><span class="token plain">mango</span></span><span class="token-line" style="color:#393A34"><span class="token plain">icecream</span></span><span class="token-line" style="color:#393A34"><span class="token plain">--start </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">--</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1234</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">6789</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">**end </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">how are you</span></span><span class="token-line" style="color:#393A34"><span class="token plain">have a </span><span class="token function" style="color:#d73a49">nice</span><span class="token plain"> day</span></span><span class="token-line" style="color:#393A34"><span class="token plain">--start </span><span class="token number" style="color:#36acaa">2</span><span class="token plain">--</span></span><span class="token-line" style="color:#393A34"><span class="token plain">a</span></span><span class="token-line" style="color:#393A34"><span class="token plain">b</span></span><span class="token-line" style="color:#393A34"><span class="token plain">c</span></span><span class="token-line" style="color:#393A34"><span class="token plain">**end </span><span class="token number" style="color:#36acaa">2</span><span class="token plain">**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">par,far,mar,tar</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Print lines between &quot;start&quot; and &quot;end&quot;.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># perl -ne &#x27;print if /start/../end/&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">$ perl -ne </span><span class="token string" style="color:#e3116c">&#x27;</span><span class="token string variable" style="color:#36acaa">$f</span><span class="token string" style="color:#e3116c">=1 if /start/; print if </span><span class="token string variable" style="color:#36acaa">$f</span><span class="token string" style="color:#e3116c">; </span><span class="token string variable" style="color:#36acaa">$f</span><span class="token string" style="color:#e3116c">=0 if /end/&#x27;</span><span class="token plain"> uniform.txt</span></span><span class="token-line" style="color:#393A34"><span class="token plain">--start </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">--</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1234</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">6789</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">**end </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">--start </span><span class="token number" style="color:#36acaa">2</span><span class="token plain">--</span></span><span class="token-line" style="color:#393A34"><span class="token plain">a</span></span><span class="token-line" style="color:#393A34"><span class="token plain">b</span></span><span class="token-line" style="color:#393A34"><span class="token plain">c</span></span><span class="token-line" style="color:#393A34"><span class="token plain">**end </span><span class="token number" style="color:#36acaa">2</span><span class="token plain">**</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Other examples where the format is consistent.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">$ perl -ne </span><span class="token string" style="color:#e3116c">&#x27;</span><span class="token string variable" style="color:#36acaa">$f</span><span class="token string" style="color:#e3116c">=0 if /end/; print &quot;* </span><span class="token string variable" style="color:#36acaa">$_</span><span class="token string" style="color:#e3116c">&quot; if </span><span class="token string variable" style="color:#36acaa">$f</span><span class="token string" style="color:#e3116c">; </span><span class="token string variable" style="color:#36acaa">$f</span><span class="token string" style="color:#e3116c">=1 if /start/&#x27;</span><span class="token plain"> uniform.txt</span></span><span class="token-line" style="color:#393A34"><span class="token plain">* </span><span class="token number" style="color:#36acaa">1234</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">* </span><span class="token number" style="color:#36acaa">6789</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">* a</span></span><span class="token-line" style="color:#393A34"><span class="token plain">* b</span></span><span class="token-line" style="color:#393A34"><span class="token plain">* c</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">$ perl -ne </span><span class="token string" style="color:#e3116c">&#x27;</span><span class="token string variable" style="color:#36acaa">$f</span><span class="token string" style="color:#e3116c">=1 if /start/; </span><span class="token string variable" style="color:#36acaa">$f</span><span class="token string" style="color:#e3116c">=0 if /end/; print if </span><span class="token string variable" style="color:#36acaa">$f</span><span class="token string" style="color:#e3116c">&#x27;</span><span class="token plain"> uniform.txt</span></span><span class="token-line" style="color:#393A34"><span class="token plain">--start </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">--</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1234</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">6789</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">--start </span><span class="token number" style="color:#36acaa">2</span><span class="token plain">--</span></span><span class="token-line" style="color:#393A34"><span class="token plain">a</span></span><span class="token-line" style="color:#393A34"><span class="token plain">b</span></span><span class="token-line" style="color:#393A34"><span class="token plain">c</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">$ perl -ne </span><span class="token string" style="color:#e3116c">&#x27;print if </span><span class="token string variable" style="color:#36acaa">$f</span><span class="token string" style="color:#e3116c">; </span><span class="token string variable" style="color:#36acaa">$f</span><span class="token string" style="color:#e3116c">=1 if /start/; </span><span class="token string variable" style="color:#36acaa">$f</span><span class="token string" style="color:#e3116c">=0 if /end/&#x27;</span><span class="token plain"> uniform.txt</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1234</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">6789</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">**end </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">a</span></span><span class="token-line" style="color:#393A34"><span class="token plain">b</span></span><span class="token-line" style="color:#393A34"><span class="token plain">c</span></span><span class="token-line" style="color:#393A34"><span class="token plain">**end </span><span class="token number" style="color:#36acaa">2</span><span class="token plain">**</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token comment" style="color:#999988;font-style:italic"># same as: perl -ne &#x27;print if !(/start/../end/)&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">$ perl -ne </span><span class="token string" style="color:#e3116c">&#x27;</span><span class="token string variable" style="color:#36acaa">$f</span><span class="token string" style="color:#e3116c">=1 if /start/; print if !</span><span class="token string variable" style="color:#36acaa">$f</span><span class="token string" style="color:#e3116c">; </span><span class="token string variable" style="color:#36acaa">$f</span><span class="token string" style="color:#e3116c">=0 if /end/&#x27;</span><span class="token plain"> uniform.txt</span></span><span class="token-line" style="color:#393A34"><span class="token plain">mango</span></span><span class="token-line" style="color:#393A34"><span class="token plain">icecream</span></span><span class="token-line" style="color:#393A34"><span class="token plain">how are you</span></span><span class="token-line" style="color:#393A34"><span class="token plain">have a </span><span class="token function" style="color:#d73a49">nice</span><span class="token plain"> day</span></span><span class="token-line" style="color:#393A34"><span class="token plain">par,far,mar,tar</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">$ perl -ne </span><span class="token string" style="color:#e3116c">&#x27;</span><span class="token string variable" style="color:#36acaa">$f</span><span class="token string" style="color:#e3116c">=0 if /end/; print if !</span><span class="token string variable" style="color:#36acaa">$f</span><span class="token string" style="color:#e3116c">; </span><span class="token string variable" style="color:#36acaa">$f</span><span class="token string" style="color:#e3116c">=1 if /start/&#x27;</span><span class="token plain"> uniform.txt</span></span><span class="token-line" style="color:#393A34"><span class="token plain">mango</span></span><span class="token-line" style="color:#393A34"><span class="token plain">icecream</span></span><span class="token-line" style="color:#393A34"><span class="token plain">--start </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">--</span></span><span class="token-line" style="color:#393A34"><span class="token plain">**end </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">how are you</span></span><span class="token-line" style="color:#393A34"><span class="token plain">have a </span><span class="token function" style="color:#d73a49">nice</span><span class="token plain"> day</span></span><span class="token-line" style="color:#393A34"><span class="token plain">--start </span><span class="token number" style="color:#36acaa">2</span><span class="token plain">--</span></span><span class="token-line" style="color:#393A34"><span class="token plain">**end </span><span class="token number" style="color:#36acaa">2</span><span class="token plain">**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">par,far,mar,tar</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">$ perl -ne </span><span class="token string" style="color:#e3116c">&#x27;print if !</span><span class="token string variable" style="color:#36acaa">$f</span><span class="token string" style="color:#e3116c">; </span><span class="token string variable" style="color:#36acaa">$f</span><span class="token string" style="color:#e3116c">=1 if /start/; </span><span class="token string variable" style="color:#36acaa">$f</span><span class="token string" style="color:#e3116c">=0 if /end/&#x27;</span><span class="token plain"> uniform.txt</span></span><span class="token-line" style="color:#393A34"><span class="token plain">mango</span></span><span class="token-line" style="color:#393A34"><span class="token plain">icecream</span></span><span class="token-line" style="color:#393A34"><span class="token plain">--start </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">--</span></span><span class="token-line" style="color:#393A34"><span class="token plain">how are you</span></span><span class="token-line" style="color:#393A34"><span class="token plain">have a </span><span class="token function" style="color:#d73a49">nice</span><span class="token plain"> day</span></span><span class="token-line" style="color:#393A34"><span class="token plain">--start </span><span class="token number" style="color:#36acaa">2</span><span class="token plain">--</span></span><span class="token-line" style="color:#393A34"><span class="token plain">par,far,mar,tar</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">$ perl -ne </span><span class="token string" style="color:#e3116c">&#x27;</span><span class="token string variable" style="color:#36acaa">$f</span><span class="token string" style="color:#e3116c">=1 if /start/; </span><span class="token string variable" style="color:#36acaa">$f</span><span class="token string" style="color:#e3116c">=0 if /end/; print if !</span><span class="token string variable" style="color:#36acaa">$f</span><span class="token string" style="color:#e3116c">&#x27;</span><span class="token plain"> uniform.txt</span></span><span class="token-line" style="color:#393A34"><span class="token plain">mango</span></span><span class="token-line" style="color:#393A34"><span class="token plain">icecream</span></span><span class="token-line" style="color:#393A34"><span class="token plain">**end </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">how are you</span></span><span class="token-line" style="color:#393A34"><span class="token plain">have a </span><span class="token function" style="color:#d73a49">nice</span><span class="token plain"> day</span></span><span class="token-line" style="color:#393A34"><span class="token plain">**end </span><span class="token number" style="color:#36acaa">2</span><span class="token plain">**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">par,far,mar,tar</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">$ perl -ne </span><span class="token string" style="color:#e3116c">&#x27;</span><span class="token string variable" style="color:#36acaa">$f</span><span class="token string" style="color:#e3116c">=1 if /start/; print if </span><span class="token string variable" style="color:#36acaa">$f</span><span class="token string" style="color:#e3116c">; exit if /end/&#x27;</span><span class="token plain"> uniform.txt</span></span><span class="token-line" style="color:#393A34"><span class="token plain">--start </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">--</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1234</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">6789</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">**end </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">**</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">$ perl -ne </span><span class="token string" style="color:#e3116c">&#x27;exit if /end/; print if </span><span class="token string variable" style="color:#36acaa">$f</span><span class="token string" style="color:#e3116c">; </span><span class="token string variable" style="color:#36acaa">$f</span><span class="token string" style="color:#e3116c">=1 if /start/&#x27;</span><span class="token plain"> uniform.txt</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1234</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">6789</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token comment" style="color:#999988;font-style:italic"># reverse input linewise, change the order of comparison, reverse again</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token comment" style="color:#999988;font-style:italic"># can&#x27;t be used if record separator has to be something other than newline</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">tac</span><span class="token plain"> uniform.txt </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> perl -ne </span><span class="token string" style="color:#e3116c">&#x27;</span><span class="token string variable" style="color:#36acaa">$f</span><span class="token string" style="color:#e3116c">=1 if /end/; print if </span><span class="token string variable" style="color:#36acaa">$f</span><span class="token string" style="color:#e3116c">; exit if /start/&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">tac</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">--start </span><span class="token number" style="color:#36acaa">2</span><span class="token plain">--</span></span><span class="token-line" style="color:#393A34"><span class="token plain">a</span></span><span class="token-line" style="color:#393A34"><span class="token plain">b</span></span><span class="token-line" style="color:#393A34"><span class="token plain">c</span></span><span class="token-line" style="color:#393A34"><span class="token plain">**end </span><span class="token number" style="color:#36acaa">2</span><span class="token plain">**</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token comment" style="color:#999988;font-style:italic"># or, save the blocks in a buffer and print the last one alone</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">$ perl -ne </span><span class="token string" style="color:#e3116c">&#x27;if(/start/){</span><span class="token string variable" style="color:#36acaa">$f</span><span class="token string" style="color:#e3116c">=1; </span><span class="token string variable" style="color:#36acaa">$buf</span><span class="token string" style="color:#e3116c">=</span><span class="token string variable" style="color:#36acaa">$_</span><span class="token string" style="color:#e3116c">; next}</span></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            </span><span class="token string variable" style="color:#36acaa">$buf</span><span class="token string" style="color:#e3116c"> .= </span><span class="token string variable" style="color:#36acaa">$_</span><span class="token string" style="color:#e3116c"> if </span><span class="token string variable" style="color:#36acaa">$f</span><span class="token string" style="color:#e3116c">;</span></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            </span><span class="token string variable" style="color:#36acaa">$f</span><span class="token string" style="color:#e3116c">=0 if /end/;</span></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            END{print </span><span class="token string variable" style="color:#36acaa">$buf</span><span class="token string" style="color:#e3116c">}&#x27;</span><span class="token plain"> uniform.txt</span></span><span class="token-line" style="color:#393A34"><span class="token plain">--start </span><span class="token number" style="color:#36acaa">2</span><span class="token plain">--</span></span><span class="token-line" style="color:#393A34"><span class="token plain">a</span></span><span class="token-line" style="color:#393A34"><span class="token plain">b</span></span><span class="token-line" style="color:#393A34"><span class="token plain">c</span></span><span class="token-line" style="color:#393A34"><span class="token plain">**end </span><span class="token number" style="color:#36acaa">2</span><span class="token plain">**</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">seq</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> perl -ne </span><span class="token string" style="color:#e3116c">&#x27;BEGIN{</span><span class="token string variable" style="color:#36acaa">$n</span><span class="token string" style="color:#e3116c">=2; </span><span class="token string variable" style="color:#36acaa">$c</span><span class="token string" style="color:#e3116c">=0} </span><span class="token string variable" style="color:#36acaa">$c</span><span class="token string" style="color:#e3116c">++ if /4/; if(</span><span class="token string variable" style="color:#36acaa">$c</span><span class="token string" style="color:#e3116c">==</span><span class="token string variable" style="color:#36acaa">$n</span><span class="token string" style="color:#e3116c">){print; exit if /6/}&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">14</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">15</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">16</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">seq</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> perl -ne </span><span class="token string" style="color:#e3116c">&#x27;BEGIN{</span><span class="token string variable" style="color:#36acaa">$n</span><span class="token string" style="color:#e3116c">=1; </span><span class="token string variable" style="color:#36acaa">$c</span><span class="token string" style="color:#e3116c">=0} if(/4/){</span><span class="token string variable" style="color:#36acaa">$f</span><span class="token string" style="color:#e3116c">=1; </span><span class="token string variable" style="color:#36acaa">$c</span><span class="token string" style="color:#e3116c">++}</span></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">                     print if </span><span class="token string variable" style="color:#36acaa">$f</span><span class="token string" style="color:#e3116c"> &amp;&amp; </span><span class="token string variable" style="color:#36acaa">$c</span><span class="token string" style="color:#e3116c">&gt;</span><span class="token string variable" style="color:#36acaa">$n</span><span class="token string" style="color:#e3116c">; </span><span class="token string variable" style="color:#36acaa">$f</span><span class="token string" style="color:#e3116c">=0 if /6/&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">14</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">15</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">16</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">24</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">25</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">26</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">seq</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> perl -ne </span><span class="token string" style="color:#e3116c">&#x27;BEGIN{</span><span class="token string variable" style="color:#36acaa">$n</span><span class="token string" style="color:#e3116c">=2; </span><span class="token string variable" style="color:#36acaa">$c</span><span class="token string" style="color:#e3116c">=0} if(/4/){</span><span class="token string variable" style="color:#36acaa">$f</span><span class="token string" style="color:#e3116c">=1; </span><span class="token string variable" style="color:#36acaa">$c</span><span class="token string" style="color:#e3116c">++}</span></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">                     print if </span><span class="token string variable" style="color:#36acaa">$f</span><span class="token string" style="color:#e3116c"> &amp;&amp; </span><span class="token string variable" style="color:#36acaa">$c</span><span class="token string" style="color:#e3116c">!=</span><span class="token string variable" style="color:#36acaa">$n</span><span class="token string" style="color:#e3116c">; </span><span class="token string variable" style="color:#36acaa">$f</span><span class="token string" style="color:#e3116c">=0 if /6/&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">4</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">5</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">6</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">24</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">25</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">26</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token comment" style="color:#999988;font-style:italic"># additional condition here is &#x27;15&#x27; as one of the lines in the block</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">seq</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> perl -ne </span><span class="token string" style="color:#e3116c">&#x27;if(/4/){</span><span class="token string variable" style="color:#36acaa">$f</span><span class="token string" style="color:#e3116c">=1; </span><span class="token string variable" style="color:#36acaa">$buf</span><span class="token string" style="color:#e3116c">=</span><span class="token string variable" style="color:#36acaa">$_</span><span class="token string" style="color:#e3116c">; next}</span></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">                     </span><span class="token string variable" style="color:#36acaa">$buf</span><span class="token string" style="color:#e3116c"> .= </span><span class="token string variable" style="color:#36acaa">$_</span><span class="token string" style="color:#e3116c"> if </span><span class="token string variable" style="color:#36acaa">$f</span><span class="token string" style="color:#e3116c">;</span></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">                     if(/6/){</span><span class="token string variable" style="color:#36acaa">$f</span><span class="token string" style="color:#e3116c">=0; print </span><span class="token string variable" style="color:#36acaa">$buf</span><span class="token string" style="color:#e3116c"> if </span><span class="token string variable" style="color:#36acaa">$buf</span><span class="token string" style="color:#e3116c">=~/^15$/m}&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">14</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">15</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">16</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="not-consistent-markers"></a>Not Consistent Markers<a class="hash-link" href="#not-consistent-markers" title="Direct link to heading">#</a></h3><p>Using buffer when markers are inconsistent.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">cat</span><span class="token plain"> broken.txt</span></span><span class="token-line" style="color:#393A34"><span class="token plain">qqqqqqqqqqqqqqqq</span></span><span class="token-line" style="color:#393A34"><span class="token plain">error </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">hi</span></span><span class="token-line" style="color:#393A34"><span class="token plain">error </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1234</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">6789</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">state </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">bye</span></span><span class="token-line" style="color:#393A34"><span class="token plain">state </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">error </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">xyz</span></span><span class="token-line" style="color:#393A34"><span class="token plain">error </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">abcd</span></span><span class="token-line" style="color:#393A34"><span class="token plain">state </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">zzzzzzzzzzzzzzzz</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">$ perl -ne </span><span class="token string" style="color:#e3116c">&#x27;if(/error/){</span><span class="token string variable" style="color:#36acaa">$f</span><span class="token string" style="color:#e3116c">=1; </span><span class="token string variable" style="color:#36acaa">$buf</span><span class="token string" style="color:#e3116c">=</span><span class="token string variable" style="color:#36acaa">$_</span><span class="token string" style="color:#e3116c">; next}</span></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            </span><span class="token string variable" style="color:#36acaa">$buf</span><span class="token string" style="color:#e3116c"> .= </span><span class="token string variable" style="color:#36acaa">$_</span><span class="token string" style="color:#e3116c"> if </span><span class="token string variable" style="color:#36acaa">$f</span><span class="token string" style="color:#e3116c">;</span></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            if(/state/){print </span><span class="token string variable" style="color:#36acaa">$buf</span><span class="token string" style="color:#e3116c"> if </span><span class="token string variable" style="color:#36acaa">$f</span><span class="token string" style="color:#e3116c">; </span><span class="token string variable" style="color:#36acaa">$f</span><span class="token string" style="color:#e3116c">=0}&#x27;</span><span class="token plain"> broken.txt</span></span><span class="token-line" style="color:#393A34"><span class="token plain">error </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1234</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">6789</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">state </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">error </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">abcd</span></span><span class="token-line" style="color:#393A34"><span class="token plain">state </span><span class="token number" style="color:#36acaa">3</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="replace-text-but-not-within-single-or-double-quotes"></a>Replace Text but not within Single or Double-Quotes<a class="hash-link" href="#replace-text-but-not-within-single-or-double-quotes" title="Direct link to heading">#</a></h2><p>This example will replace <code>;</code> to <code>#</code>, but not within single or double-quotes</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">perl -pe </span><span class="token string" style="color:#e3116c">&#x27;s/(?:</span><span class="token string entity" style="color:#36acaa">\x27</span><span class="token string" style="color:#e3116c">;</span><span class="token string entity" style="color:#36acaa">\x27</span><span class="token string" style="color:#e3116c">|&quot;;&quot;)(*SKIP)(*F)|;/#/g&#x27;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="find-and-extract-ip-addresses"></a>Find and extract IP addresses<a class="hash-link" href="#find-and-extract-ip-addresses" title="Direct link to heading">#</a></h2><p>Extract only IPv4 addresses</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">perl -MRegexp::Common</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">net -nE </span><span class="token string" style="color:#e3116c">&#x27;say $&amp; while /</span><span class="token string variable" style="color:#36acaa">$RE</span><span class="token string" style="color:#e3116c">{net}{IPv4}/g&#x27;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="find-and-replace-with-incrementing-value"></a>Find and Replace with Incrementing Value<a class="hash-link" href="#find-and-replace-with-incrementing-value" title="Direct link to heading">#</a></h2><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;a | a | a | a | a | a | a | a&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> perl -pe </span><span class="token string" style="color:#e3116c">&#x27;s/ *\| */</span><span class="token string variable" style="color:#36acaa">$i</span><span class="token string" style="color:#e3116c">++/ge&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">a0a1a2a3a4a5a6a</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ul><li><code> *\| *</code> match <code>|</code> surrounded by zero-or-more spaces</li><li><code>e</code> modifier to have Perl do in-replacement</li><li><code>$i++</code> will increment value - starting at zero</li></ul><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="sort-csv-file-by-column"></a>Sort CSV File by Column<a class="hash-link" href="#sort-csv-file-by-column" title="Direct link to heading">#</a></h2><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">$ perl -F, -lane </span><span class="token string" style="color:#e3116c">&#x27;print join &quot;,&quot;, $.==1 ? @F : (</span><span class="token string variable" style="color:#36acaa">$F</span><span class="token string" style="color:#e3116c">[0], sort @F[1..</span><span class="token string variable" style="color:#36acaa">$#</span><span class="token string" style="color:#e3116c">F])&#x27;</span><span class="token plain"> ip.txt</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ul><li><code>-F,</code> will use <code>,</code> as input field separator, results saved in <code>@F</code> array<ul><li>See <a href="https://perldoc.perl.org/perlrun#Command-Switches" target="_blank" rel="noopener noreferrer">https://perldoc.perl.org/perlrun#Command-Switches</a> for details on other options</li></ul></li><li><code>join &quot;,&quot;</code> will use <code>,</code> as output field separator</li><li><code>$.==1 ? @F</code> print first line as-is</li><li><code>($F[0], sort @F[1..$#F])</code> for other lines, get first field and sorted output of other fields<ul><li><code>..</code> is range operator, <code>$#F</code> will give index of last field</li><li>Optional: you can use <code>(shift @F, sort @F)</code> instead of <code>($F[0], sort @F[1..$#F])</code></li></ul></li></ul><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="process-xml-with-xpath-and-xmllint"></a>Process XML with xpath and xmllint<a class="hash-link" href="#process-xml-with-xpath-and-xmllint" title="Direct link to heading">#</a></h2><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly xml"><pre tabindex="0" class="prism-code language-xml codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">doc</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">greeting</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">ask</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Hi there. How are you?</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">greeting</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">greeting</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">reply</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">I am good.</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">greeting</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">color</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">blue</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">flower</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">blue</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">blue</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">sand stone</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">blue</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">light-blue</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">sky</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">light-blue</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">light-blue</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">water</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">light-blue</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">color</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">doc</span><span class="token tag punctuation" style="color:#393A34">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">$ xpath -e </span><span class="token string" style="color:#e3116c">&#x27;//blue/text()&#x27;</span><span class="token plain"> sample.xml</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Found </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> nodes </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> sample.xml:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">-- NODE --</span></span><span class="token-line" style="color:#393A34"><span class="token plain">flower</span></span><span class="token-line" style="color:#393A34"><span class="token plain">-- NODE --</span></span><span class="token-line" style="color:#393A34"><span class="token plain">sand stone</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">$ xpath -q -e </span><span class="token string" style="color:#e3116c">&#x27;//blue/text()&#x27;</span><span class="token plain"> sample.xml</span></span><span class="token-line" style="color:#393A34"><span class="token plain">flower</span></span><span class="token-line" style="color:#393A34"><span class="token plain">sand stone</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">$ xmllint --xpath </span><span class="token string" style="color:#e3116c">&#x27;//blue/text()&#x27;</span><span class="token plain"> sample.xml</span></span><span class="token-line" style="color:#393A34"><span class="token plain">flower</span></span><span class="token-line" style="color:#393A34"><span class="token plain">sand stone</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="process-json"></a>Process JSON<a class="hash-link" href="#process-json" title="Direct link to heading">#</a></h2><p>Using <a href="https://metacpan.org/pod/Cpanel::JSON::XS" target="_blank" rel="noopener noreferrer">Cpanel::JSON::XS</a>.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token assign-left variable" style="color:#36acaa">s</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;{&quot;greeting&quot;:&quot;hi&quot;,&quot;marks&quot;:[78,62,93],&quot;fruit&quot;:&quot;apple&quot;}&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;</span><span class="token string variable" style="color:#36acaa">$s</span><span class="token string" style="color:#e3116c">&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> cpanel_json_xs</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token string" style="color:#e3116c">&quot;fruit&quot;</span><span class="token plain"> </span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;apple&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token string" style="color:#e3116c">&quot;greeting&quot;</span><span class="token plain"> </span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;hi&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token string" style="color:#e3116c">&quot;marks&quot;</span><span class="token plain"> </span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token number" style="color:#36acaa">78</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token number" style="color:#36acaa">62</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token number" style="color:#36acaa">93</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function-name function" style="color:#d73a49">pj</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> perl -MCpanel::JSON::XS -0777 -E </span><span class="token string" style="color:#e3116c">&#x27;</span><span class="token string variable" style="color:#36acaa">$ip</span><span class="token string" style="color:#e3116c">=decode_json &lt;&gt;;&#x27;</span><span class="token string" style="color:#e3116c">&quot;</span><span class="token string variable" style="color:#36acaa">$@</span><span class="token string" style="color:#e3116c">&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;</span><span class="token string variable" style="color:#36acaa">$s</span><span class="token string" style="color:#e3116c">&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> pj </span><span class="token string" style="color:#e3116c">&#x27;say </span><span class="token string variable" style="color:#36acaa">$ip</span><span class="token string" style="color:#e3116c">-&gt;{fruit}&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">apple</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;</span><span class="token string variable" style="color:#36acaa">$s</span><span class="token string" style="color:#e3116c">&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> pj </span><span class="token string" style="color:#e3116c">&#x27;say join &quot;:&quot;, @{</span><span class="token string variable" style="color:#36acaa">$ip</span><span class="token string" style="color:#e3116c">-&gt;{marks}}&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">78</span><span class="token plain">:62:93</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Compared to using <a href="https://stedolan.github.io/jq/" target="_blank" rel="noopener noreferrer">jq</a></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;</span><span class="token string variable" style="color:#36acaa">$s</span><span class="token string" style="color:#e3116c">&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> jq </span><span class="token string" style="color:#e3116c">&#x27;.fruit&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token string" style="color:#e3116c">&quot;apple&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;</span><span class="token string variable" style="color:#36acaa">$s</span><span class="token string" style="color:#e3116c">&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> jq </span><span class="token string" style="color:#e3116c">&#x27;.marks | join(&quot;:&quot;)&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token string" style="color:#e3116c">&quot;78:62:93&quot;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/johntday/tao/edit/master/docs/unix/perl-one-liners.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_3DPF"></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/tao/docs/unix/sed"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« sed</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/tao/docs/unix/jq"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">jq Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#print-block-of-text" class="table-of-contents__link">Print Block of Text</a><ul><li><a href="#consistent-markers" class="table-of-contents__link">Consistent Markers</a></li><li><a href="#not-consistent-markers" class="table-of-contents__link">Not Consistent Markers</a></li></ul></li><li><a href="#replace-text-but-not-within-single-or-double-quotes" class="table-of-contents__link">Replace Text but not within Single or Double-Quotes</a></li><li><a href="#find-and-extract-ip-addresses" class="table-of-contents__link">Find and extract IP addresses</a></li><li><a href="#find-and-replace-with-incrementing-value" class="table-of-contents__link">Find and Replace with Incrementing Value</a></li><li><a href="#sort-csv-file-by-column" class="table-of-contents__link">Sort CSV File by Column</a></li><li><a href="#process-xml-with-xpath-and-xmllint" class="table-of-contents__link">Process XML with xpath and xmllint</a></li><li><a href="#process-json" class="table-of-contents__link">Process JSON</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"></div></div></footer></div>
<script src="/tao/assets/js/runtime~main.943b9460.js"></script>
<script src="/tao/assets/js/main.67cf1c77.js"></script>
</body>
</html>